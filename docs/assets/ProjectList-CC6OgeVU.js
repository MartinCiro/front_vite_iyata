import{f as d,o as r,b as e,n as J,k as y,y as h,w as $,p as K,c as w,a as _,r as O,g as M,e as i,h as a,i as Q,z as R,t as l,F as V,s as Z,q as B,x as W,d as H,j as b}from"./index-VqPlM1MX.js";import{_ as X,r as Y}from"./AppLayout-CF_FfTgD.js";import{a as ee,_ as te}from"./Button-DYYX2dmu.js";import{_ as se}from"./Loader-DN8mK90T.js";import{u as oe}from"./useProjects-S8qiQkYI.js";import{r as N}from"./PlusIcon-CX8St5oj.js";import{r as ne,a as re}from"./TrashIcon-C3kfYPwl.js";import{r as ie}from"./CheckCircleIcon-DN82iOfF.js";import{r as A}from"./ClockIcon-DaBjmD0v.js";import{r as ae}from"./ExclamationTriangleIcon-DCKbRFom.js";function le(p,u){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function de(p,u){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function ce(p,u){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function ue(p,u){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function ve(p,u){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})])}const me={class:"py-6"},ge={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},he={class:"flex justify-between items-center mb-6"},pe={class:"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white rounded-full p-2 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Create new project"},fe={class:"mb-6"},xe={class:"relative"},_e={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},be={key:1},we={class:"mb-4 text-sm text-gray-600"},ye={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8"},ke={class:"flex justify-between items-start mb-2"},Ce={class:"flex-1 min-w-0 mr-2"},Pe=["title"],je=["title"],$e={class:"text-gray-600 text-sm mb-4 line-clamp-2"},Me={class:"flex justify-between items-center text-sm text-gray-500"},Ve={class:"flex items-center"},Ze={class:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity"},Be=["onClick"],He=["onClick"],Ne={key:0,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},Ae={class:"flex flex-1 justify-between sm:hidden"},Le=["disabled"],Se=["disabled"],De={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Ie={class:"text-sm text-gray-700"},Te={class:"font-medium"},ze={class:"font-medium"},Ee={class:"font-medium"},Fe={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},qe=["disabled"],Ge=["onClick"],Ue=["disabled"],Je={key:2,class:"text-center py-12"},Ke={class:"mt-2 text-sm font-medium text-gray-900"},Oe={class:"mt-1 text-sm text-gray-500"},Qe={class:"mt-6"},it=J({__name:"ProjectList",setup(p){const{projects:u,isLoading:k,fetchProjects:L,deleteProject:S}=oe(),v=y(""),n=y(1),f=y(6),m=h(()=>{if(!v.value.trim())return u.value;const s=v.value.toLowerCase().trim();return u.value.filter(t=>t.title?.toLowerCase().includes(s)||t.description?.toLowerCase().includes(s))}),c=h(()=>Math.ceil(m.value.length/f.value)),C=h(()=>{const s=(n.value-1)*f.value,t=s+f.value;return m.value.slice(s,t)}),D=h(()=>(n.value-1)*f.value),I=h(()=>Math.min(n.value*f.value,m.value.length)),T=h(()=>{let t=Math.max(1,n.value-Math.floor(2.5)),g=Math.min(c.value,t+5-1);return g-t+1<5&&(t=Math.max(1,g-5+1)),Array.from({length:g-t+1},(o,x)=>t+x)}),z=()=>n.value=1,P=()=>{n.value>1&&n.value--},j=()=>{n.value<c.value&&n.value++},E=s=>n.value=s,F=s=>({pending:ae,in_progress:A,completed:ie,active:ve})[s]||A,q=s=>({pending:"bg-yellow-100 text-yellow-600",in_progress:"bg-blue-100 text-blue-600",completed:"bg-green-100 text-green-600",active:"bg-green-100 text-green-600"})[s]||"bg-gray-100 text-gray-600",G=s=>({pending:"Pending",in_progress:"In Progress",completed:"Completed",active:"Active"})[s]||s,U=s=>new Date(s).toLocaleDateString();return $(v,()=>n.value=1),$(m,()=>{n.value>c.value&&c.value>0&&(n.value=c.value)}),K(()=>L()),(s,t)=>{const g=O("router-link");return r(),w(X,null,{default:_(()=>[e("div",me,[e("div",ge,[e("div",he,[t[1]||(t[1]=e("h1",{class:"text-2xl font-semibold text-gray-900"},"Projects",-1)),i(g,{to:"/projects/create"},{default:_(()=>[e("button",pe,[i(a(N),{class:"h-5 w-5"})])]),_:1})]),e("div",fe,[e("div",xe,[e("div",_e,[i(a(ue),{class:"h-5 w-5 text-gray-400"})]),Q(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>v.value=o),type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by title or description...",onInput:z},null,544),[[R,v.value]])])]),a(k)?(r(),w(se,{key:0,text:"Loading projects..."})):(r(),d("div",be,[e("div",we," Showing "+l(C.value.length)+" of "+l(m.value.length)+" projects ",1),e("div",ye,[(r(!0),d(V,null,Z(C.value,o=>(r(),w(ee,{key:o.id,class:"hover:shadow-md transition-shadow cursor-pointer group",onClick:x=>s.$router.push(`/projects/${o.id}`)},{default:_(()=>[e("div",ke,[e("div",Ce,[e("h3",{class:"text-lg font-medium text-gray-900 truncate",title:o.title},l(o.title),9,Pe)]),e("div",{class:B([q(o.status),"p-2 rounded-full flex-shrink-0"]),title:G(o.status)},[(r(),w(W(F(o.status)),{class:"w-4 h-4"}))],10,je)]),e("p",$e,l(o.description),1),e("div",Me,[e("div",Ve,[i(a(le),{class:"w-4 h-4 mr-1"}),e("span",null,l(U(o.created_at)),1)]),e("div",Ze,[e("button",{onClick:H(x=>s.$router.push(`/projects/${o.id}/edit`),["stop"]),class:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Edit project"},[i(a(ne),{class:"w-4 h-4"})],8,Be),e("button",{onClick:H(x=>a(S)(o.id),["stop"]),class:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Delete project"},[i(a(re),{class:"w-4 h-4"})],8,He)])])]),_:2},1032,["onClick"]))),128))]),c.value>1?(r(),d("div",Ne,[e("div",Ae,[e("button",{onClick:P,disabled:n.value===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Le),e("button",{onClick:j,disabled:n.value===c.value,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Se)]),e("div",De,[e("div",null,[e("p",Ie,[t[2]||(t[2]=b(" Showing ",-1)),e("span",Te,l(D.value+1),1),t[3]||(t[3]=b(" to ",-1)),e("span",ze,l(I.value),1),t[4]||(t[4]=b(" of ",-1)),e("span",Ee,l(m.value.length),1),t[5]||(t[5]=b(" results ",-1))])]),e("div",null,[e("nav",Fe,[e("button",{onClick:P,disabled:n.value===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[t[6]||(t[6]=e("span",{class:"sr-only"},"Previous",-1)),i(a(de),{class:"h-5 w-5"})],8,qe),(r(!0),d(V,null,Z(T.value,o=>(r(),d("button",{key:o,onClick:x=>E(o),class:B(["relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 focus:z-20 focus:outline-offset-0",n.value===o?"bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 hover:bg-gray-50"])},l(o),11,Ge))),128)),e("button",{onClick:j,disabled:n.value===c.value,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[t[7]||(t[7]=e("span",{class:"sr-only"},"Next",-1)),i(a(ce),{class:"h-5 w-5"})],8,Ue)])])])])):M("",!0)])),!a(k)&&m.value.length===0?(r(),d("div",Je,[i(a(Y),{class:"mx-auto h-12 w-12 text-gray-400"}),e("h3",Ke,l(v.value?"No projects found":"No projects"),1),e("p",Oe,l(v.value?"Try adjusting your search terms":"Get started by creating a new project."),1),e("div",Qe,[i(g,{to:"/projects/create"},{default:_(()=>[i(te,{variant:"primary"},{default:_(()=>[i(a(N),{class:"w-4 h-4 mr-2"}),t[8]||(t[8]=b(" New Project ",-1))]),_:1})]),_:1})])])):M("",!0)])])]),_:1})}}});export{it as default};
