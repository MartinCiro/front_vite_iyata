import{E as p,I as d,y as u,f as i,o as l,g,b as f,m as y,t as m,q as h}from"./index-VqPlM1MX.js";function z(){const e=p({user:d.getUser(),isLoading:!1,error:null}),a=async r=>{e.isLoading=!0,e.error=null;try{const s=await d.login(r);return e.user=s.user,s}catch(s){throw e.error=s.message,s}finally{e.isLoading=!1}},c=async r=>{e.isLoading=!0,e.error=null;try{const s=await d.register(r);return e.user=s.user,s}catch(s){throw e.error=s.message,s}finally{e.isLoading=!1}},o=async()=>{e.isLoading=!0;try{await d.logout(),e.user=null,e.error=null}catch(r){throw e.error=r.message,r}finally{e.isLoading=!1}},t=async()=>{e.isLoading=!0;try{const r=await d.getCurrentUser();return e.user=r,r}catch(r){throw e.error=r.message,r}finally{e.isLoading=!1}},n=()=>{e.error=null},b=async()=>{try{const r=await d.getCurrentUser();e.user=r}catch(r){console.error("Error refreshing user:",r)}};return{user:u(()=>e.user),isLoading:u(()=>e.isLoading),error:u(()=>e.error),isAuthenticated:u(()=>d.isAuthenticated()),login:a,register:c,logout:o,fetchCurrentUser:t,clearError:n,refreshUser:b}}const w={key:0,class:"px-6 py-4 border-b border-gray-200"},v={class:"flex items-center justify-between"},x={key:0,class:"text-lg font-medium text-gray-900"},$={key:1,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},A={__name:"Card",props:{title:{type:String,default:""},padding:{type:String,default:"normal",validator:e=>["none","tight","normal","loose"].includes(e)},shadow:{type:Boolean,default:!0}},setup(e){const a=e,c=u(()=>{const t="bg-white rounded-lg border border-gray-200",n=a.shadow?"shadow-sm":"";return`${t} ${n}`}),o=u(()=>({none:"",tight:"px-4 py-3",normal:"px-6 py-4",loose:"px-8 py-6"})[a.padding]);return(t,n)=>(l(),i("div",{class:h(c.value)},[t.$slots.header||e.title?(l(),i("div",w,[f("div",v,[e.title?(l(),i("h3",x,m(e.title),1)):g("",!0),y(t.$slots,"header")])])):g("",!0),f("div",{class:h(o.value)},[y(t.$slots,"default")],2),t.$slots.footer?(l(),i("div",$,[y(t.$slots,"footer")])):g("",!0)],2))}},C=["type","disabled"],k={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},L={key:1},S={key:2},U={__name:"Button",props:{type:{type:String,default:"button"},variant:{type:String,default:"primary",validator:e=>["primary","secondary","danger","outline"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"Loading..."}},emits:["click"],setup(e){const a=e,c=u(()=>{const o="inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",t={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 disabled:bg-blue-300",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 disabled:bg-gray-300",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-blue-500 disabled:text-gray-400"},n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return`${o} ${t[a.variant]} ${n[a.size]} ${a.disabled||a.loading?"cursor-not-allowed opacity-50":""}`});return(o,t)=>(l(),i("button",{type:e.type,class:h(c.value),disabled:e.disabled||e.loading,onClick:t[0]||(t[0]=n=>o.$emit("click",n))},[e.loading?(l(),i("svg",k,[...t[1]||(t[1]=[f("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),f("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):g("",!0),e.loading&&e.loadingText?(l(),i("span",L,m(e.loadingText),1)):(l(),i("span",S,[y(o.$slots,"default")]))],10,C))}};export{U as _,A as a,z as u};
