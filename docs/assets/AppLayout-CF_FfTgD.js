import{u as $}from"./Button-DYYX2dmu.js";import{f as r,o as e,b as t,r as _,e as a,m as C,j,a as y,h as i,t as d,A as L,u as A,y as k,g as b,F as V,s as M,c as E,x as H,q as N}from"./index-VqPlM1MX.js";function B(h,s){return e(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function z(h,s){return e(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function D(h,s){return e(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function P(h,s){return e(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const S={class:"bg-white shadow-sm border-b border-gray-200"},U={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"flex justify-between items-center h-16"},F={class:"flex items-center space-x-4"},R={class:"text-xl font-semibold text-gray-900"},q={class:"flex items-center space-x-3 sm:space-x-4"},W={class:"hidden sm:flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Notifications"},Z={class:"hidden md:flex items-center space-x-2"},G={class:"flex items-center space-x-2 sm:space-x-3"},J={class:"flex-shrink-0 relative"},K=["src","alt"],O={class:"hidden sm:block"},Q={class:"text-sm font-medium text-gray-900 truncate max-w-[120px]"},X={class:"text-xs text-gray-500 truncate max-w-[120px]"},Y={class:"sm:hidden"},tt={class:"text-sm font-medium text-gray-900"},st={__name:"Header",setup(h){const{user:s,logout:m}=$(),p=async()=>{try{await m()}catch(u){console.error("Logout error:",u)}},v=u=>{u.target.src="/default-avatar.png"};return(u,o)=>{const x=_("Bars3Icon"),f=_("BellIcon"),w=_("PlusIcon"),g=_("router-link"),n=_("Cog6ToothIcon");return e(),r("header",S,[t("div",U,[t("div",T,[t("div",F,[t("button",{onClick:o[0]||(o[0]=l=>u.$emit("toggle-sidebar")),class:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"},[a(x,{class:"h-5 w-5"})]),t("h1",R,[C(u.$slots,"title",{},()=>[o[1]||(o[1]=j("Iyata Dashboard",-1))])])]),t("div",q,[t("button",W,[a(f,{class:"h-5 w-5"})]),t("div",Z,[a(g,{to:"/projects/create",class:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"New Project"},{default:y(()=>[a(w,{class:"h-5 w-5"})]),_:1}),a(g,{to:"/settings",class:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Settings"},{default:y(()=>[a(n,{class:"h-5 w-5"})]),_:1})]),t("div",G,[t("div",J,[t("img",{src:i(s)?.avatar||"/default-avatar.png",alt:i(s)?.first_name||"User",class:"h-8 w-8 rounded-full object-cover border-2 border-white",onError:v},null,40,K),o[2]||(o[2]=t("div",{class:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"},null,-1))]),t("div",O,[t("p",Q,d(i(s)?.first_name||"User"),1),t("p",X,d(i(s)?.email||"user@example.com"),1)]),t("div",Y,[t("p",tt,d(i(s)?.first_name||"User"),1)])]),t("button",{onClick:p,class:"hover:bg-gray-50 text-gray-700 p-2 cursor-pointer transition-colors disabled:opacity-50 disabled:cursor-not-allowed group",title:"Logout"},[a(i(B),{class:"h-5 w-5"}),o[3]||(o[3]=t("div",{class:"sm:hidden absolute -top-8 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap"}," Logout ",-1))])])])])])}}},et={class:"sidebar"},ot={class:"sidebar-header"},nt={class:"logo"},at={class:"sidebar-nav"},rt={class:"nav-content"},it={class:"nav-section"},lt={key:0,class:"nav-section-title hidden sm:block"},ct={class:"nav-list"},dt={class:"nav-text hidden sm:block"},ut={class:"sm:hidden absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap"},ht={key:0,class:"nav-badge"},pt={class:"nav-bottom"},_t={class:"nav-section"},mt={class:"nav-list"},gt={class:"user-profile"},vt={class:"user-avatar"},xt=["src","alt"],ft={class:"user-info hidden sm:block"},wt={class:"user-name"},bt={class:"user-email"},yt={__name:"Sidebar",props:{showCloseButton:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1}},emits:["close"],setup(h){const s=L(),m=A(),{user:p,logout:v}=$(),u={main:{title:"Main",items:[{name:"Dashboard",path:"/dashboard",icon:D},{name:"Projects",path:"/projects",icon:z}]}},o=k(()=>u);k(()=>p.value);const x=n=>s.path===n.path||s.path.startsWith(n.path+"/"),f=async()=>{try{await v(),m.push("/login")}catch(n){console.error("Logout error:",n)}},w=n=>{n.target.style.display="none"},g=n=>{n.target.src="/default-avatar.png"};return(n,l)=>{const I=_("router-link");return e(),r("aside",et,[t("div",ot,[t("div",nt,[t("img",{src:"",alt:"Logo",class:"logo-image",onError:w},null,32),l[1]||(l[1]=t("span",{class:"logo-text hidden sm:block"},"Iyata",-1)),l[2]||(l[2]=t("span",{class:"logo-icon sm:hidden"},"I",-1))]),h.showCloseButton?(e(),r("button",{key:0,onClick:l[0]||(l[0]=c=>n.$emit("close")),class:"close-button"},[a(i(P),{class:"h-5 w-5"})])):b("",!0)]),t("nav",at,[t("div",rt,[t("div",it,[o.value.main.title?(e(),r("h3",lt,d(o.value.main.title),1)):b("",!0),t("ul",ct,[(e(!0),r(V,null,M(o.value.main.items,c=>(e(),r("li",{key:c.name},[a(I,{to:c.path,class:N(["nav-link",{"nav-link-active":x(c)}])},{default:y(()=>[(e(),E(H(c.icon),{class:"nav-icon"})),t("span",dt,d(c.name),1),t("div",ut,d(c.name),1),c.badge?(e(),r("span",ht,d(c.badge),1)):b("",!0)]),_:2},1032,["to","class"])]))),128))])])]),t("div",pt,[t("div",_t,[t("ul",mt,[t("li",null,[t("button",{onClick:f,class:"nav-link nav-link-logout group cursor-pointer"},[a(i(B),{class:"nav-icon"}),l[3]||(l[3]=t("span",{class:"nav-text hidden sm:block"},"Logout",-1)),l[4]||(l[4]=t("div",{class:"sm:hidden absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap"}," Logout ",-1))])])])]),t("div",gt,[t("div",vt,[t("img",{src:i(p)?.avatar||"/default-avatar.png",alt:i(p)?.first_name,onError:g},null,40,xt)]),t("div",ft,[t("p",wt,d(i(p)?.first_name||"User"),1),t("p",bt,d(i(p)?.email||"user@example.com"),1)])])])])])}}},kt={class:"min-h-screen bg-gray-100 flex"},$t={class:"flex-1 flex flex-col"},Ct={class:"flex-1 overflow-auto"},Bt={class:"p-6"},It={class:"max-w-7xl mx-auto"},At={__name:"AppLayout",setup(h){return(s,m)=>(e(),r("div",kt,[a(yt),t("div",$t,[a(st),t("main",Ct,[t("div",Bt,[t("div",It,[C(s.$slots,"default")])])])])]))}};export{At as _,z as r};
