import{n as L,A as N,y as V,p as S,c as f,a as n,b as t,f as c,g as y,e as r,j as m,h as s,r as I,t as l,q as b,F as A,s as E,o as i}from"./index-VqPlM1MX.js";import{_ as F,r as R}from"./AppLayout-CF_FfTgD.js";import{_ as v,a as k}from"./Button-DYYX2dmu.js";import{_ as q}from"./Loader-DN8mK90T.js";import{u as z}from"./useProjects-S8qiQkYI.js";import{u as M}from"./useTasks-CwPyd9XD.js";import{r as U}from"./ArrowLeftIcon-Bor2sICF.js";const G={class:"py-6"},H={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"mb-6 flex justify-between items-center"},K={class:"flex space-x-3"},O={key:1,class:"space-y-6"},Q={class:"flex justify-between items-start"},W={class:"text-2xl font-bold text-gray-900"},X={class:"text-gray-600 mt-2"},Y={class:"mt-6 grid grid-cols-2 gap-4 text-sm text-gray-600"},Z={class:"ml-2"},tt={class:"ml-2"},et={class:"flex justify-between items-center"},st={class:"text-sm text-gray-500"},ot={key:0,class:"space-y-3"},at={class:"flex-1"},nt={class:"font-medium text-gray-900"},rt={class:"text-sm text-gray-600 mt-1 line-clamp-2"},lt={class:"flex items-center mt-2 text-xs text-gray-500"},it={key:0,class:"text-center pt-4"},dt={key:1,class:"text-center py-8 text-gray-500"},ct={key:2,class:"text-center py-12"},vt=L({__name:"ProjectView",setup(ut){const j=N(),g=Number(j.params.id),{fetchProject:h,isLoading:_,currentProject:a}=z(),{fetchTasks:w,tasks:p,isLoading:P,tasksByProject:$}=M();V(()=>$(g).value);const C=o=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",active:"bg-green-100 text-green-800"})[o]||"bg-gray-100 text-gray-800",B=o=>({todo:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",done:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800"})[o]||"bg-gray-100 text-gray-800",T=o=>({pending:"Pending",in_progress:"In Progress",completed:"Completed",active:"Active"})[o]||o,D=o=>({todo:"To Do",in_progress:"In Progress",done:"Done",pending:"Pending"})[o]||o,x=o=>o?new Date(o).toLocaleDateString():"No date";return S(async()=>{await h(g),await w(g)}),(o,e)=>{const u=I("router-link");return i(),f(F,null,{default:n(()=>[t("div",G,[t("div",H,[t("div",J,[r(u,{to:"/projects",class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:n(()=>[r(s(U),{class:"w-4 h-4 mr-1"}),e[1]||(e[1]=m(" Back to Projects ",-1))]),_:1}),t("div",K,[r(u,{to:`/projects/${s(a)?.id}/edit`},{default:n(()=>[r(v,{variant:"outline"},{default:n(()=>[...e[2]||(e[2]=[m(" Edit Project ",-1)])]),_:1})]),_:1},8,["to"]),r(u,{to:`/projects/${s(a)?.id}/tasks`},{default:n(()=>[r(v,{variant:"primary"},{default:n(()=>[...e[3]||(e[3]=[m(" View Tasks ",-1)])]),_:1})]),_:1},8,["to"])])]),s(_)||s(P)?(i(),f(q,{key:0,text:"Loading project..."})):s(a)?(i(),c("div",O,[r(k,null,{default:n(()=>[t("div",Q,[t("div",null,[t("h1",W,l(s(a).title),1),t("p",X,l(s(a).description),1)]),t("span",{class:b([C(s(a).status),"px-3 py-1 rounded-full text-sm font-medium"])},l(T(s(a).status)),3)]),t("div",Y,[t("div",null,[e[4]||(e[4]=t("span",{class:"font-medium"},"Created:",-1)),t("span",Z,l(x(s(a).created_at)),1)]),t("div",null,[e[5]||(e[5]=t("span",{class:"font-medium"},"Last Updated:",-1)),t("span",tt,l(x(s(a).updated_at)),1)])])]),_:1}),r(k,null,{header:n(()=>[t("div",et,[e[6]||(e[6]=t("h2",{class:"text-lg font-medium text-gray-900"},"Recent Tasks",-1)),t("span",st,l(s(p).length)+" tasks",1)])]),default:n(()=>[s(p).length>0?(i(),c("div",ot,[(i(!0),c(A,null,E(s(p).slice(0,5),d=>(i(),c("div",{key:d.id,class:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:e[0]||(e[0]=mt=>o.$router.push(`/projects/${s(a).id}/tasks`))},[t("div",at,[t("h3",nt,l(d.title),1),t("p",rt,l(d.description),1),t("div",lt,[t("span",null,"Due: "+l(x(d.due_date)),1),e[7]||(e[7]=t("span",{class:"mx-2"},"â€¢",-1)),t("span",null,"Priority: "+l(d.priority),1)])]),t("span",{class:b([B(d.status),"px-2 py-1 text-xs rounded-full font-medium ml-4"])},l(D(d.status)),3)]))),128)),s(p).length>5?(i(),c("div",it,[r(u,{to:`/projects/${s(a).id}/tasks`,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:n(()=>[m(" View all "+l(s(p).length)+" tasks ",1)]),_:1},8,["to"])])):y("",!0)])):(i(),c("div",dt,[r(s(R),{class:"mx-auto h-12 w-12 text-gray-400"}),e[9]||(e[9]=t("p",{class:"mt-2"},"No tasks yet",-1)),r(u,{to:`/projects/${s(a).id}/tasks/create`,class:"text-blue-600 hover:text-blue-800 mt-2 inline-block font-medium"},{default:n(()=>[...e[8]||(e[8]=[m(" Create your first task ",-1)])]),_:1},8,["to"])]))]),_:1})])):s(_)?y("",!0):(i(),c("div",ct,[e[11]||(e[11]=t("p",{class:"text-gray-500"},"Project not found",-1)),r(u,{to:"/projects",class:"text-blue-600 hover:text-blue-800 mt-2 inline-block"},{default:n(()=>[...e[10]||(e[10]=[m(" Back to Projects ",-1)])]),_:1})]))])])]),_:1})}}});export{vt as default};
