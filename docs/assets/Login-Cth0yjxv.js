import{w as k,c as V,a as l,u as $,r as q,o as u,b as s,d as B,e as a,f as E,g as L,h as r,i as S,v as C,j as p,t as N}from"./index-VqPlM1MX.js";import{u as M,_ as c}from"./Button-DYYX2dmu.js";import{u as P}from"./useForm-BaGdoIoh.js";import{_ as j,r as F,a as U}from"./AuthLayout-DzFBtJg6.js";import{_ as f}from"./Input-CatUOd1j.js";import{r as z}from"./ExclamationTriangleIcon-DCKbRFom.js";const D={class:"flex items-center justify-between"},R={class:"flex items-center"},A={key:0,class:"rounded-md bg-red-50 p-4"},I={class:"flex"},O={class:"ml-3"},T={class:"mt-2 text-sm text-red-700"},G={class:"mt-6"},H={class:"mt-6"},ee={__name:"Login",setup(J){const v=$(),{login:g,isLoading:w,error:i,clearError:b}=M(),x={email:{required:"Email is required",pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,patternMessage:"Please enter a valid email address"},password:{required:"Password is required",minLength:6,minLengthMessage:"Password must be at least 6 characters"}},{form:t,errors:d,validate:y,validateField:n}=P({email:"",password:"",remember:!1},x);k(()=>[t.email,t.password],()=>{i.value&&b()});const _=async()=>{if(y())try{await g({email:t.email,password:t.password}),v.push("/dashboard")}catch(m){console.error("Login error:",m)}};return(m,e)=>{const h=q("router-link");return u(),V(j,{title:"Sign in to your account",subtitle:"Or start your 14-day free trial"},{default:l(()=>[s("form",{onSubmit:B(_,["prevent"]),class:"space-y-6"},[a(f,{"model-value":r(t).email,"onUpdate:modelValue":e[0]||(e[0]=o=>r(t).email=o),label:"Email address",type:"email",placeholder:"Enter your email",error:r(d).email,required:!0,onBlur:e[1]||(e[1]=o=>r(n)("email"))},{icon:l(()=>[a(r(F),{class:"h-5 w-5 text-gray-400"})]),_:1},8,["model-value","error"]),a(f,{"model-value":r(t).password,"onUpdate:modelValue":e[2]||(e[2]=o=>r(t).password=o),label:"Password",type:"password",placeholder:"Enter your password",error:r(d).password,required:!0,onBlur:e[3]||(e[3]=()=>r(n)("password"))},{icon:l(()=>[a(r(U),{class:"h-5 w-5 text-gray-400"})]),_:1},8,["model-value","error"]),s("div",D,[s("div",R,[S(s("input",{id:"remember-me","onUpdate:modelValue":e[4]||(e[4]=o=>r(t).remember=o),name:"remember-me",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[C,r(t).remember]]),e[5]||(e[5]=s("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Remember me ",-1))]),e[6]||(e[6]=s("div",{class:"text-sm"},[s("a",{href:"#",class:"font-medium text-blue-600 hover:text-blue-500"}," Forgot your password? ")],-1))]),s("div",null,[a(c,{type:"submit",variant:"primary",size:"lg",loading:r(w),"loading-text":"Signing in...",class:"w-full"},{default:l(()=>[...e[7]||(e[7]=[p(" Sign in ",-1)])]),_:1},8,["loading"])]),r(i)?(u(),E("div",A,[s("div",I,[a(r(z),{class:"h-5 w-5 text-red-400"}),s("div",O,[e[8]||(e[8]=s("h3",{class:"text-sm font-medium text-red-800"},"Sign in failed",-1)),s("div",T,[s("p",null,N(r(i)),1)])])])])):L("",!0)],32),s("div",G,[e[10]||(e[10]=s("div",{class:"relative"},[s("div",{class:"absolute inset-0 flex items-center"},[s("div",{class:"w-full border-t border-gray-300"})]),s("div",{class:"relative flex justify-center text-sm"},[s("span",{class:"px-2 bg-white text-gray-500"},"New to Iyata?")])],-1)),s("div",H,[a(h,{to:"/register"},{default:l(()=>[a(c,{variant:"outline",size:"lg",class:"w-full"},{default:l(()=>[...e[9]||(e[9]=[p(" Create your account ",-1)])]),_:1})]),_:1})])])]),_:1})}}};export{ee as default};
